{"version":3,"sources":["scripts/main.js"],"names":["sorted","selected","tableHead","document","querySelector","tableBody","tableHeads","querySelectorAll","convertToNumber","num","slice","split","join","addEventListener","e","columnIndex","target","cellIndex","employees","children","textContent","reverse","sort","a","b","cells","innerText","parseInt","localeCompare","append","item","closest","classList","remove","add","formOptions","body","insertAdjacentHTML","form","preventDefault","data","FormData","newEmployee","Object","fromEntries","entries","tr","createElement","name","length","pushNotification","test","position","age","salary","key","td","toLocaleString","forEach","input","value","title","description","type","message","messageTitle","messageDescription","dataset","qa","firstElementChild","after","setTimeout","text","className","tagName","select","focus","eventKeyDown","code","blur"],"mappings":"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","file":"main.5148bea4.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tableHead = document.querySelector('thead');\nconst tableBody = document.querySelector('tbody');\nconst tableHeads = [...document.querySelectorAll('th')];\nlet sorted;\nlet selected;\n\nconst convertToNumber = num => +num.slice(1).split(',').join('');\n\n/*\n================ asc/dsc sorting ==================\n*/\ntableHead.addEventListener('click', e => {\n  const columnIndex = e.target.cellIndex;\n  const employees = [...tableBody.children];\n\n  if (e.target.textContent === sorted) {\n    employees.reverse();\n  } else {\n    sorted = e.target.textContent;\n\n    employees.sort((a, b) => {\n      if (!convertToNumber(a.cells[columnIndex].innerText)) {\n        return a.cells[columnIndex].innerText\n          .localeCompare(b.cells[columnIndex].innerText);\n      } else if (parseInt(a.cells[columnIndex].innerText) >= 0\n        || parseInt(a.cells[columnIndex].innerText) <= 0) {\n        return a.cells[columnIndex].innerText\n        - b.cells[columnIndex].innerText;\n      } else {\n        return convertToNumber(a.cells[columnIndex].innerText)\n        - convertToNumber(b.cells[columnIndex].innerText);\n      }\n    });\n  }\n\n  tableBody.append(...employees);\n});\n\n/*\n================== row select ==================\n*/\ntableBody.addEventListener('click', e => {\n  const item = e.target.closest('tr');\n\n  if (!selected) {\n    selected = item;\n    selected.classList.add('active');\n  } else if (selected !== item) {\n    selected.classList.remove('active');\n    selected = item;\n    selected.classList.add('active');\n  } else {\n    selected.classList.remove('active');\n  }\n});\n\n/*\n================= create form  ==================\n*/\nconst formOptions = `\n  <option value=\"Tokyo\">Tokyo</option>\n  <option value=\"Singapore\">Singapore</option>\n  <option value=\"London\">London</option>\n  <option value=\"New York\">New York</option>\n  <option value=\"Edinburgh\">Edinburgh</option>\n  <option value=\"San Francisco\">San Francisco</option>\n`;\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form\n    class=\"new-employee-form\"\n    action=\"/\"\n    method=\"post\"\n  >\n    <label>\n      Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        data-qa=\"name\"\n        required\n      >\n    </label>\n    <label>\n      Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        data-qa=\"position\"\n        required\n      >\n    </label>\n    <label>\n      Office:\n      <select\n        name=\"office\"\n        data-qa=\"office\"\n        required\n      >\n        ${formOptions}\n      </select>\n    </label>\n    <label>\n      Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n        required\n      >\n    </label>\n    <label>\n      Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n        required\n      >\n    </label>\n    <button type=\"submit\">\n      Save to table\n    </button>\n  </form>\n`);\n\n/*\n============= create notifications ===========\n*/\nconst form = document.querySelector('form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const newEmployee = Object.fromEntries(data.entries());\n  const tr = document.createElement('tr');\n\n  if (newEmployee.name.length < 4) {\n    pushNotification('Wrong Name!',\n      'Name length should have more than 4 letters.', 'error');\n\n    return;\n  }\n\n  const checkName = /^[A-Za-z\\s]*$/.test(newEmployee.name);\n\n  if (!checkName) {\n    pushNotification('Wrong Name!',\n      'Name should contain only letters.', 'error');\n\n    return;\n  }\n\n  if (newEmployee.position.length < 4) {\n    pushNotification('Wrong Position!',\n      'Position length should have more than 4 letters.', 'error');\n\n    return;\n  }\n\n  if (newEmployee.age < 18 || newEmployee.age > 90) {\n    pushNotification('Wrong Age!',\n      'Employee age should be between 18 and 90.', 'error');\n\n    return;\n  }\n\n  if (newEmployee.salary <= 0) {\n    pushNotification('Wrong Salary!',\n      'Salary should be more than $0.', 'error');\n\n    return;\n  }\n\n  for (const key in newEmployee) {\n    const td = document.createElement('td');\n\n    if (key === 'salary') {\n      td.innerText = '$' + parseInt(newEmployee[key]).toLocaleString('en-US');\n    } else {\n      td.innerText = newEmployee[key];\n    }\n\n    tr.append(td);\n  }\n\n  tableBody.append(tr);\n  pushNotification('Success!', 'New employee added to the table.', 'success');\n\n  [...document.querySelectorAll('input')]\n    .forEach(input => (input.value = null));\n});\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const messageDescription = document.createElement('p');\n\n  message.classList.add('notification', type);\n  message.dataset.qa = 'notification';\n  messageTitle.classList.add('title');\n\n  messageTitle.innerText = title;\n  messageDescription.innerText = description;\n\n  message.append(messageTitle, messageDescription);\n  document.body.firstElementChild.after(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 2000);\n};\n\n/*\n============ editing cells ===========\n*/\ntableBody.addEventListener('dblclick', (e) => {\n  const text = e.target.innerText;\n  let input = document.createElement('input');\n\n  e.target.innerText = null;\n  input.className = 'cell-input';\n  input.value = text;\n  input.type = 'text';\n\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  if (e.target.cellIndex >= 3) {\n    input.type = 'number';\n  }\n\n  if (e.target.cellIndex === 2) {\n    const select = document.createElement('select');\n\n    select.dataset.qa = 'office';\n\n    select.insertAdjacentHTML('beforeend', `\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San Francisco\">San Francisco</option>`);\n\n    input = select;\n  }\n\n  e.target.append(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    if (input.value === '') {\n      e.target.innerText = text;\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Name') {\n      if (input.value.length < 4) {\n        pushNotification('Wrong Name!',\n          'Name length should have more than 4 letters.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n\n      const checkName = /^[A-Za-z\\s]*$/.test(input.value);\n\n      if (!checkName) {\n        pushNotification('Wrong Name!',\n          'Name should contain only letters.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Position') {\n      if (input.value.length < 4) {\n        pushNotification('Wrong Position!',\n          'Position length should have more than 4 letters.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Age') {\n      if (input.value < 18 || input.value > 90) {\n        pushNotification('Wrong Age!',\n          'Employee age should be between 18 and 90.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n\n      if (!parseInt(input.value)) {\n        pushNotification('Wrong Age!',\n          'Employee age should be between 18 and 90.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    if (tableHeads[e.target.cellIndex].innerText === 'Salary') {\n      if (parseInt(input.value)) {\n        e.target.innerText = '$' + parseInt(input.value)\n          .toLocaleString('en-US');\n\n        return;\n      } else {\n        pushNotification('Wrong Salary!',\n          'Salary should be more than $0.', 'error');\n        e.target.innerText = text;\n\n        return;\n      }\n    }\n\n    e.target.innerText = input.value;\n    input.remove();\n  });\n\n  input.addEventListener('keydown', eventKeyDown => {\n    if (eventKeyDown.code === 'Enter') {\n      input.blur();\n    }\n  });\n});\n"]}